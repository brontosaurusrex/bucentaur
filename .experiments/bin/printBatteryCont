#!/bin/bash

# printBatteryCont
# 'continuously' print machine power state for tint2 
# brex 2021
# license: WTFPL â€“ Do What the **** You Want to Public License

# main
(upower -m) |
while read
do

    number="$(upower -d | grep percentage | head -1 | tr -dc '0-9')"
    
        if ((number > 80)); then
      
            var=":)"
            
        elif ((number > 60)); then
      
            var=":|"
            
        elif ((number > 40)); then
        
            var=":/"
            
        elif ((number > 20)); then
            
            var=":("
            
        elif ((number > 10)); then
            
            var=":|\\"
            
        else
        
            var=":)?"
      
        fi
    
    echo "${number}% ${var}"

done

# tint2 executor example:

#execp = new
#execp_centered = 1
#execp_has_icon = 0
#execp_command = printBatteryCont
#execp_continuous = 1
#execp_font = cuprum 8
#execp_font_color = #111111 100
#execp_padding = 0 0 0
#execp_tooltip = power
#execp_mclick_command = xfce4-power-manager-settings

