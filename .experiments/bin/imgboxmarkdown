#!/bin/bash

# imgboxmarkdown

# convert imgbox stdout to some markdown 
# needs imgbox script @ https://codeberg.org/plotski/imgbox-cli/src/branch/master/README.md

# usage example
# imgbox image.png --thumb-width 300 | imgboxbbcode

input=$(cat)
echo "$input"

# catch some vars here (probably better to use json via jq?)
image="$(grep Image: <<< "$input" | awk '{print $2}')"
thumb="$(grep Thumbnail: <<< "$input" | awk '{print $2}')"

echo
echo "markdown:"
#echo "[url=$image][img]${thumb}[/img][/url]"
echo "[![image]($thumb)]($image)"

# and whatever code here to put that into clipboard